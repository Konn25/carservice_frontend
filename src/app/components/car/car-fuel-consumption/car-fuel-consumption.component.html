<div class="container text-center my-3">
    <h1 class="my-3">Fuel consumption </h1>
    <button type="button" (click)="goBack()" class="btn btn-primary me-2">Back</button>
    <button type="button" (click)="openModal(newConsumption)" class="btn btn-primary me-2">Add new fuel consumption</button>


     <!-- The new consumption modal -->
     <ng-template #newConsumption let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Add new car</h4>
            <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
        </div>
        <div class="modal-body">
            <h2>Fuel Qunatity: <input type="text" #quantity></h2> 
            <h2>Price: <input type="text" #price></h2> 
            <h2>Kilometer: <input type="text" #kilometer></h2> 
            <h2>Date: <input type="text" #date></h2>  

        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-outline-dark" (click)="addNewFuelConsumption(price.value, quantity.value, kilometer.value, date.value)">Save</button>
        </div>
    </ng-template>

</div>


<div>
    <table class="table my-3">
        <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Quantity</th>
              <th scope="col">Price</th>
              <th scope="col">Kilometer</th>
              <th scope="col">Update</th>
              <th scope="col">Delete</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let x of fuelConsumptionList">
                <td>{{x.date}}</td>
                <td>{{x.fuelQuantity}}</td>
                <td>{{x.price}}</td>
                <td>{{x.kilometer}}</td>
                <td><button type="button" (click)="openModal(content)"  class="btn btn-success me-1" data-bs-toggle="modal" data-bs-target="#updateModal">
                    <i class="bi bi-pencil-square"></i></button></td>
                <td><button type="button" (click)="deleteFuelConsumption(x.id)" class="btn btn-danger me-1"><i class="bi bi-trash3-fill"></i></button></td>
                
                 <!-- The update modal -->
                <ng-template #content let-modal>
                    <div class="modal-header">
                        <h4 class="modal-title" id="modal-basic-title">Update Repair</h4>
                        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
                    </div>
                    <div class="modal-body">
                        <h2>Fuel Qunatity: <input type="text" value="{{x.fuelQuantity}}" #quantity></h2> 
                        <h2>Price: <input type="text" value="{{x.price}}" #price></h2> 
                        <h2>Kilometer: <input type="text" value="{{x.kilometer}}" #kilometer></h2> 
                        <h2>Date: <input type="text" value="{{x.date}}" #date></h2> 
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-dark" (click)="updateFuelConsumption(x.id, price.value, quantity.value, kilometer.value, date.value)">Save</button>
                    </div>
                </ng-template>

            </tr>
          </tbody>
          
    </table>


</div>
